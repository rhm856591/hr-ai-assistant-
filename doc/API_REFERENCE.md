# AI Recruiter Assistant - API Reference

## Base URL
All API routes are located under `/api/`.

## 1. Interview Configuration (`/api/config`)
**Method:** `GET`
**Description:** Fetches candidate details and job description (JD) data to initialize the interview.
**Parameters:**
- `email` (string, required): The candidate's email address.
- `jdId` (string, required): The ID of the job description file (e.g., `frontend-dev`).

**Response (200 OK):**
```json
{
  "candidateName": "John Doe",
  "roleName": "Senior Frontend Engineer",
  "companyName": "Tech Corp",
  "instructions": "Hi John! This is Priya...",
  "firstMessage": "Hi John! This is Priya from the HR team at Tech Corp...",
  "candidate": {
    "email": "john@example.com",
    "name": "John Doe",
    "status": "invited"
  },
  "jd": {
    "roleName": "Senior Frontend Engineer",
    "companyName": "Tech Corp",
    "targetLocation": "New York",
    "specificQuestions": ["Explain the virtual DOM..."]
  }
}
```

## 2. Generate Feedback (`/api/feedback`)
**Method:** `POST`
**Description:** Saves the interview feedback JSON generated by the AI tool call.
**Request Body:**
```json
{
  "candidateName": "John Doe",
  "feedback": {
    "candidate_name": "John Doe",
    "current_role": "Frontend Developer",
    "primary_domain": "Web Development",
    "core_tech_stack": ["React", "TypeScript", "Node.js"],
    "notice_period": "30 days",
    "current_location": "San Francisco",
    "comfortable_relocating": true,
    "current_ctc": "150k",
    "expected_ctc": "180k",
    "soft_skills_assessment": {
      "honesty": "High",
      "integrity": "High",
      "commitment": "High",
      "confidence_level": "High",
      "communication_skills": "Excellent"
    },
    "overall_summary": "Highly skilled developer...",
    "hiring_recommendation": "Strong Hire"
  }
}
```
**Response (200 OK):**
```json
{
  "success": true,
  "fileName": "John_Doe_feedback_1716200000000.json"
}
```

## 3. Reschedule Interview (`/api/reschedule`)
**Method:** `POST`
**Description:** Saves a callback request from a candidate who is unavailable.
**Request Body:**
```json
{
  "candidateName": "John Doe",
  "email": "john@example.com",
  "jdId": "frontend-dev",
  "preferredTime": "Monday morning at 10am",
  "notes": "Calling back later"
}
```
**Response (200 OK):**
```json
{
  "success": true,
  "entry": {
    "id": "reschedule_1716200000000",
    "candidateName": "John Doe",
    "email": "john@example.com",
    "jdId": "frontend-dev",
    "preferredTime": "Monday morning at 10am",
    "notes": "Calling back later",
    "status": "pending_reschedule",
    "createdAt": "2024-05-20T10:00:00.000Z"
  }
}
```

## 4. Upload Recording (`/api/upload`)
**Method:** `POST`
**Description:** Uploads the recorded video/audio blob (WebM format).
**Request Body:** `multipart/form-data`
- `video` (file): The recorded WebM blob.

**Response (200 OK):**
```json
{
  "success": true,
  "filePath": "/path/to/storage/interview_1716200000000.webm"
}
```
